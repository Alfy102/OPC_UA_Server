import time




test_dict = {2167: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R100', 0], 2168: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R101', 0], 2169: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R102', 0], 2170: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R103', 0], 2171: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R104', 0], 2172: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R105', 0], 2173: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R106', 0], 2174: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R107', 0], 2175: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R108', 0], 2176: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R109', 0], 2177: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R110', 0], 2178: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R111', 0], 2179: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R112', 0], 2180: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R113', 0], 2181: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R114', 0], 2182: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R115', 0], 2036: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R200', 0], 2037: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R201', 0], 2038: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R202', 0], 2039: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R203', 0], 2040: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R204', 0], 2041: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R205', 0], 2042: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R206', 0], 2043: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R207', 0], 2044: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R208', 0], 2045: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R209', 0], 2046: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R210', 0], 2047: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R211', 0], 2049: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R212', 0], 2050: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R213', 0], 2051: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R214', 0], 2052: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R215', 0], 2053: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R300', 0], 2054: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R301', 0], 2055: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R302', 0], 2056: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R303', 0], 2057: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R304', 0], 2058: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R305', 0], 2059: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R306', 0], 2060: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R307', 0], 2061: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R308', 0], 2062: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R309', 0], 2064: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R310', 0], 2065: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R311', 0], 2066: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R312', 0], 2067: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R313', 0], 2068: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R314', 0], 2019: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R315', 0], 2069: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R400', 0], 2070: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R401', 0], 2071: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R402', 0], 2072: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R403', 0], 2073: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R404', 0], 2074: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R405', 0], 2075: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R406', 0], 2076: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R407', 0], 2077: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R408', 0], 2078: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R409', 0], 2079: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R410', 0], 2080: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R411', 0], 2081: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R412', 0], 2082: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R413', 0], 2083: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R414', 0], 2084: ['127.0.0.1:8501', 2, 'PLC1', 'input_relay_1', 'R415', 0], 2184: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R500', 0], 2185: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R501', 0], 2186: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R502', 0], 2187: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R503', 0], 2188: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R504', 0], 2189: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R505', 0], 2190: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R506', 0], 2191: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R507', 0], 2192: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R508', 0], 2193: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R509', 0], 2194: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R510', 0], 2195: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R511', 0], 2196: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R512', 0], 2197: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R513', 0], 2198: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R514', 0], 2199: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R515', 0], 2085: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R600', 0], 2086: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R601', 0], 2087: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R602', 0], 2088: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R603', 0], 2089: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R604', 0], 2090: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R605', 0], 2091: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R606', 0], 2092: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R607', 0], 2093: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R608', 0], 2094: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R609', 0], 2095: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R610', 0], 2096: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R611', 0], 2097: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R612', 0], 2098: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R613', 0], 2099: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R614', 0], 2100: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R615', 0], 2101: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R700', 0], 2102: 
['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R701', 0], 2103: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R702', 0], 2104: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R703', 0], 2105: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R704', 0], 2106: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R705', 0], 2107: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R706', 0], 2108: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R707', 0], 2109: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R708', 0], 2110: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R709', 0], 2111: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R710', 0], 2112: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R711', 0], 2113: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R712', 0], 2114: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R713', 0], 2115: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R714', 0], 2116: ['127.0.0.1:8501', 2, 'PLC1', 'output_relay_1', 'R715', 0], 2127: ['127.0.0.1:8501', 2, 'PLC1', 'alarm', 'DM3000', 0], 2128: ['127.0.0.1:8501', 2, 'PLC1', 'alarm', 'DM3001', 0], 2129: ['127.0.0.1:8501', 2, 'PLC1', 'alarm', 'DM3002', 0], 2130: ['127.0.0.1:8501', 2, 'PLC1', 'alarm', 'DM3003', 0], 2131: ['127.0.0.1:8501', 2, 'PLC1', 'alarm', 'DM3004', 0], 2132: ['127.0.0.1:8501', 2, 'PLC1', 'alarm', 'DM3005', 0]}


tic = time.perf_counter()
group_list = [item[3] for item in list(test_dict.values())]
group_item = list(set(group_list))
dict_1 = [dict(filter(lambda elem: elem[1][3]==group,test_dict.items())) for group in group_item]
for io_dict in dict_1:
    lead_data = list(io_dict.values())[0]
    lead_device = lead_data[4]
    ip_address = lead_data[0]
    device_size = len(io_dict)
    i=0
    for key,value in io_dict.items():
        value[5] = 1
        io_dict.update({key:value})
        i+=1
    #current_relay_list = await self.plc_tcp_socket_request()
#print(list(set(group_list)))
toc = time.perf_counter()
print(f"Program executed for {toc - tic:0.6f} seconds")
print(dict_1)